{"ast":null,"code":"import _regeneratorRuntime from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _createForOfIteratorHelper from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,useState}from\"react\";import\"./App.css\";import MIDISounds from\"midi-sounds-react\";import KeyboardEventHandler from'react-keyboard-event-handler';import{socket}from\"./index\";function home(){window.location.reload();}var Piano=/*#__PURE__*/function(_Component){_inherits(Piano,_Component);var _super=_createSuper(Piano);function Piano(){var _this;_classCallCheck(this,Piano);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.shiftKey=0;_this.colorOn='x';_this.playtime=0.5;_this.chords=0;_this.state={recordStatus:false,recordTune:{beatPlayed:[],lengthPlayed:[],timePlayed:[]}};return _this;}_createClass(Piano,[{key:\"changeColor\",value:function changeColor(key){this.colorOn=key;}},{key:\"sendKeysFromPiano\",value:function sendKeysFromPiano(sound){socket.emit('sendFromPiano',sound);}},{key:\"playPiano4\",value:function playPiano4(key,e){if(key===\"space\"){this.playtime=this.playtime%2+0.5;}if(key==='shift'){this.shiftKey=(this.shiftKey+1)%3;}if(key==='m'){this.chords=(this.chords+1)%3;}var playtime=this.playtime;//don't delete...don't know why but we need this\nthis.setState({});//create map of key to note\nvar mapping=[['a',57],['w',58],['s',59],['d',60],['r',61],['f',62],['t',63],['g',64],['h',65],['u',66],['j',67],['i',68],['k',69],['o',70],['l',71],[';',72]];var sound=null;//if key is pressed, finds that key in the map and play corresponding note\nif(this.shiftKey===0){if(this.chords===0){var _iterator=_createForOfIteratorHelper(mapping),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var map=_step.value;if(key===map[0]){sound={note:[map[1]],length:playtime};// this.midiSounds.playChordNow(3, [map[1]], playtime);\n}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else if(this.chords===1){var _iterator2=_createForOfIteratorHelper(mapping),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _map=_step2.value;if(key===_map[0]){sound={note:[_map[1],_map[1]+4,_map[1]+7],length:playtime};// this.midiSounds.playChordNow(3, [map[1], map[1]+4, map[1]+7], playtime);\n}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}else{var _iterator3=_createForOfIteratorHelper(mapping),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _map2=_step3.value;if(key===_map2[0]){sound={note:[_map2[1],_map2[1]+3,_map2[1]+7],length:playtime};// this.midiSounds.playChordNow(3, [map[1], map[1]+3, map[1]+7], playtime);\n}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}//go up an octave\nelse if(this.shiftKey===1){if(this.chords===0){var _iterator4=_createForOfIteratorHelper(mapping),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _map3=_step4.value;if(key===_map3[0]){sound={note:[_map3[1]+12],length:playtime};// this.midiSounds.playChordNow(3, [map[1] + 12], playtime);\n}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}else if(this.chords===1){var _iterator5=_createForOfIteratorHelper(mapping),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _map4=_step5.value;if(key===_map4[0]){sound={note:[_map4[1]+12,_map4[1]+16,_map4[1]+19],length:playtime};// this.midiSounds.playChordNow(3, [map[1] + 12, map[1] + 16, map[1] + 19], playtime);\n}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}else{var _iterator6=_createForOfIteratorHelper(mapping),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _map5=_step6.value;if(key===_map5[0]){sound={note:[_map5[1]+12,_map5[1]+15,_map5[1]+19],length:playtime};// this.midiSounds.playChordNow(3, [map[1] + 12, map[1] + 15, map[1] + 19], playtime);\n}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}}//go down an octave\nelse if(this.shiftKey===2){if(this.chords===0){var _iterator7=_createForOfIteratorHelper(mapping),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _map6=_step7.value;if(key===_map6[0]){sound={note:[_map6[1]-12],length:playtime};// this.midiSounds.playChordNow(3, [map[1] - 12], playtime);\n}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}else if(this.chords===1){var _iterator8=_createForOfIteratorHelper(mapping),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _map7=_step8.value;if(key===_map7[0]){sound={note:[_map7[1]-12,_map7[1]-8,_map7[1]-5],length:playtime};// this.midiSounds.playChordNow(3, [map[1] - 12, map[1]-8, map[1]-5], playtime);\n}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}else{var _iterator9=_createForOfIteratorHelper(mapping),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _map8=_step9.value;if(key===_map8[0]){sound={note:[_map8[1]-12,_map8[1]-9,_map8[1]-5],length:playtime};// this.midiSounds.playChordNow(3, [map[1] - 12, map[1]-9, map[1]-5], playtime);\n}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}if(sound!=null){this.midiSounds.playChordNow(3,sound.note,sound.length);this.sendKeysFromPiano(sound);if(this.state.recordStatus){this.state.recordTune.beatPlayed.push(sound.note);this.state.recordTune.lengthPlayed.push(sound.length);this.state.recordTune.timePlayed.push(new Date());console.log(this.state.recordTune);}}}//flip record status from recording to not recording and vice versa\n},{key:\"toggleRecordStatus\",value:function toggleRecordStatus(){this.state.recordStatus=!this.state.recordStatus;if(this.state.recordStatus){document.getElementById('record-btn').innerHTML='Stop';}else{document.getElementById('record-btn').innerHTML='Record';document.getElementById('play-btn').disabled=false;}}},{key:\"wait\",value:function(){var _wait=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ms){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",new Promise(function(resolve){setTimeout(resolve,ms);}));case 1:case\"end\":return _context.stop();}}},_callee);}));function wait(_x){return _wait.apply(this,arguments);}return wait;}()},{key:\"playRecord\",value:function(){var _playRecord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('playing');i=0;case 2:if(!(i<this.state.recordTune.beatPlayed.length)){_context2.next=11;break;}_context2.next=5;return this.midiSounds.playChordNow(3,this.state.recordTune.beatPlayed[i],this.state.recordTune.lengthPlayed[i]);case 5:console.log(i);_context2.next=8;return this.wait(this.state.recordTune.timePlayed[i+1]-this.state.recordTune.timePlayed[i]);case 8:i++;_context2.next=2;break;case 11:case\"end\":return _context2.stop();}}},_callee2,this);}));function playRecord(){return _playRecord.apply(this,arguments);}return playRecord;}()//delete the previously recorded beats to start recording again from scratch\n},{key:\"resetRecord\",value:function resetRecord(){this.setState({recordTune:{beatPlayed:[],lengthPlayed:[],timePlayed:[]}});}},{key:\"render\",value:function render(){var _this2=this;//send guitar chords played\nsocket.on('receiveFromGuitar',function(selectedNote){_this2.midiSounds.playChordNow(258,selectedNote,1.5);});//send drum beats played\nsocket.on('receiveFromDrums',function(key){_this2.midiSounds.playDrumsNow(key);});//send piano played from other user (would this work? -> yes it will :)\nsocket.on('receiveFromPiano',function(sound){_this2.midiSounds.playChordNow(3,sound.note,sound.length);});/*formatting stuff mostly. Buttons call piano functions when clicked. The midi sounds logo gives volume options etc*/return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{id:\"main-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{contentEditable:true},\"Travel Ban\",/*#__PURE__*/React.createElement(\"span\",{style:{color:'#9a0415'}},\"d\")))),/*#__PURE__*/React.createElement(\"nav\",{id:\"navbar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:home},\"Home\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{id:\"record-btn\",onClick:this.toggleRecordStatus.bind(this)},\"Record\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{id:\"play-btn\",onClick:this.playRecord.bind(this)},\"Play\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:this.resetRecord.bind(this)},\"Reset\"))))),/*#__PURE__*/React.createElement(\"body\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"App-intro\"},\"Press buttons to play piano chords.\"),/*#__PURE__*/React.createElement(\"h1\",{className:\"Instructions\"},\"Play keyboard like a piano: d = middle C.\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(KeyboardEventHandler,{handleKeys:['all'],onKeyEvent:function onKeyEvent(key){return _this2.changeColor(key);}}),/*#__PURE__*/React.createElement(KeyboardEventHandler,{handleKeys:['all'],onKeyEvent:function onKeyEvent(key,e){return _this2.playPiano4(key,e);}})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"piano-visual\"},/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='a'?'blue-key':\"white-key\",style:{left:50}},/*#__PURE__*/React.createElement(\"h3\",null,\"A\"),/*#__PURE__*/React.createElement(\"h4\",null,\"a\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='s'?\"blue-key\":\"white-key\",style:{left:100}},/*#__PURE__*/React.createElement(\"h3\",null,\"B\"),/*#__PURE__*/React.createElement(\"h4\",null,\"s\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='d'?'blue-key':\"white-key\",style:{left:150}},/*#__PURE__*/React.createElement(\"h3\",null,\"C\"),/*#__PURE__*/React.createElement(\"h4\",null,\"d\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='f'?'blue-key':\"white-key\",style:{left:200}},/*#__PURE__*/React.createElement(\"h3\",null,\"D\"),/*#__PURE__*/React.createElement(\"h4\",null,\"f\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='g'?'blue-key':\"white-key\",style:{left:250}},/*#__PURE__*/React.createElement(\"h3\",null,\"E\"),/*#__PURE__*/React.createElement(\"h4\",null,\"g\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='h'?'blue-key':\"white-key\",style:{left:300}},/*#__PURE__*/React.createElement(\"h3\",null,\"F\"),/*#__PURE__*/React.createElement(\"h4\",null,\"h\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='j'?'blue-key':\"white-key\",style:{left:350}},/*#__PURE__*/React.createElement(\"h3\",null,\"G\"),/*#__PURE__*/React.createElement(\"h4\",null,\"j\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='k'?'blue-key':\"white-key\",style:{left:400}},/*#__PURE__*/React.createElement(\"h3\",null,\"A\"),/*#__PURE__*/React.createElement(\"h4\",null,\"k\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='l'?'blue-key':\"white-key\",style:{left:450}},/*#__PURE__*/React.createElement(\"h3\",null,\"B\"),/*#__PURE__*/React.createElement(\"h4\",null,\"l\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn===';'?'blue-key':\"white-key\",style:{left:500}},/*#__PURE__*/React.createElement(\"h3\",null,\"C\"),/*#__PURE__*/React.createElement(\"h4\",null,\";\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='w'?'black-blue-key':\"black-key\",style:{left:85}},/*#__PURE__*/React.createElement(\"h4\",null,\"A#\"),/*#__PURE__*/React.createElement(\"h5\",null,\"w\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='r'?'black-blue-key':\"black-key\",style:{left:185}},/*#__PURE__*/React.createElement(\"h4\",null,\"C#\"),/*#__PURE__*/React.createElement(\"h5\",null,\"r\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='t'?'black-blue-key':\"black-key\",style:{left:235}},/*#__PURE__*/React.createElement(\"h4\",null,\"D#\"),/*#__PURE__*/React.createElement(\"h5\",null,\"t\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='u'?'black-blue-key':\"black-key\",style:{left:335}},/*#__PURE__*/React.createElement(\"h4\",null,\"F#\"),/*#__PURE__*/React.createElement(\"h5\",null,\"u\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='i'?'black-blue-key':\"black-key\",style:{left:385}},/*#__PURE__*/React.createElement(\"h4\",null,\"G#\"),/*#__PURE__*/React.createElement(\"h5\",null,\"i\")),/*#__PURE__*/React.createElement(\"div\",{className:this.colorOn==='o'?'black-blue-key':\"black-key\",style:{left:435}},/*#__PURE__*/React.createElement(\"h4\",null,\"A#\"),/*#__PURE__*/React.createElement(\"h5\",null,\"o\")))),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Press shift to change octave\")),/*#__PURE__*/React.createElement(\"p\",null,\"Current Octave: \",this.shiftKey===0?\"Medium\":this.shiftKey===1?\"High\":\"Low\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Hit Space to change length of the note.\")),/*#__PURE__*/React.createElement(\"p\",null,\"Current note length: \",this.playtime===0.5?\"Short\":this.playtime===1?\"Medium\":this.playtime===1.5?\"Long\":\"Longest\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Press m for chords.\")),/*#__PURE__*/React.createElement(\"p\",null,\"Current chord setting: \",this.chords===0?\"Off\":this.chords===1?\"Major\":\"Minor\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Hit Refresh to change instrument\")),/*#__PURE__*/React.createElement(MIDISounds,{ref:function ref(_ref){return _this2.midiSounds=_ref;},appElementName:\"root\",instruments:[3,258]})));}}]);return Piano;}(Component);export default Piano;","map":{"version":3,"sources":["/Users/deeptanshusankhwar/Documents/templates/hackquarantine/TravelBand/client/src/piano.js"],"names":["React","Component","useState","MIDISounds","KeyboardEventHandler","socket","home","window","location","reload","Piano","shiftKey","colorOn","playtime","chords","state","recordStatus","recordTune","beatPlayed","lengthPlayed","timePlayed","key","sound","emit","e","setState","mapping","map","note","length","midiSounds","playChordNow","sendKeysFromPiano","push","Date","console","log","document","getElementById","innerHTML","disabled","ms","Promise","resolve","setTimeout","i","wait","on","selectedNote","playDrumsNow","color","toggleRecordStatus","bind","playRecord","resetRecord","changeColor","playPiano4","left","ref"],"mappings":"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","sourcesContent":["import React, {Component, useState} from \"react\";\nimport \"./App.css\";\nimport MIDISounds from \"midi-sounds-react\";\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { socket } from \"./index\";\n\n\nfunction home(){\n      window.location.reload();\n}\n\nclass Piano extends Component {\n  shiftKey = 0;\n  colorOn = 'x';\n  playtime = 0.5;\n  chords = 0;\n  //to track the status of recording\n  state = {\n    recordStatus: false,\n    recordTune: {\n      beatPlayed: [],\n      lengthPlayed: [],\n      timePlayed: []\n    }\n  };\n\n  changeColor(key) {\n    this.colorOn = key;\n  }\n\n  sendKeysFromPiano(sound)  {\n    socket.emit('sendFromPiano', sound);\n  }\n\n  playPiano4(key, e) {\n    if (key === \"space\") {\n      this.playtime = this.playtime % 2 + 0.5\n    }\n\n\n\n    if (key === 'shift') {\n      this.shiftKey = (this.shiftKey + 1) % 3\n    }\n\n    if (key === 'm'){\n      this.chords = (this.chords + 1) % 3\n    }\n\n    let playtime = this.playtime;\n\n    //don't delete...don't know why but we need this\n    this.setState({});\n\n    //create map of key to note\n    const mapping = [\n      ['a', 57],\n      ['w', 58],\n      ['s', 59],\n      ['d', 60],\n      ['r', 61],\n      ['f', 62],\n      ['t', 63],\n      ['g', 64],\n      ['h', 65],\n      ['u', 66],\n      ['j', 67],\n      ['i', 68],\n      ['k', 69],\n      ['o', 70],\n      ['l', 71],\n      [';', 72]\n    ];\n\n    let sound = null;\n\n    //if key is pressed, finds that key in the map and play corresponding note\n    if (this.shiftKey === 0) {\n      if (this.chords === 0) {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1]], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1]], playtime);\n          }\n        }\n      }\n      else if (this.chords === 1) {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1], map[1]+4, map[1]+7], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1], map[1]+4, map[1]+7], playtime);\n          }\n        }\n      }\n      else{\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1], map[1]+3, map[1]+7], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1], map[1]+3, map[1]+7], playtime);\n          }\n        }\n      }\n    }\n    //go up an octave\n    else if (this.shiftKey === 1) {\n      if (this.chords === 0) {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1] + 12], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1] + 12], playtime);\n          }\n        }\n      }\n      else if (this.chords === 1) {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1] + 12, map[1] + 16, map[1] + 19], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1] + 12, map[1] + 16, map[1] + 19], playtime);\n          }\n        }\n      }\n      else {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1] + 12, map[1] + 15, map[1] + 19], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1] + 12, map[1] + 15, map[1] + 19], playtime);\n          }\n        }\n      }\n    }\n    //go down an octave\n    else if (this.shiftKey === 2) {\n      if (this.chords === 0) {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1] - 12], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1] - 12], playtime);\n          }\n        }\n      }\n      else if (this.chords === 1) {\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1] - 12, map[1]-8, map[1]-5], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1] - 12, map[1]-8, map[1]-5], playtime);\n          }\n        }\n      }\n      else{\n        for (const map of mapping) {\n          if (key === map[0]) {\n            sound = {note:[map[1] - 12, map[1]-9, map[1]-5], length:playtime};\n            // this.midiSounds.playChordNow(3, [map[1] - 12, map[1]-9, map[1]-5], playtime);\n          }\n        }\n      }\n    }\n    if (sound != null) {\n      this.midiSounds.playChordNow(3, sound.note, sound.length);\n      this.sendKeysFromPiano(sound);\n      if (this.state.recordStatus)  {\n        this.state.recordTune.beatPlayed.push(sound.note);\n        this.state.recordTune.lengthPlayed.push(sound.length);\n        this.state.recordTune.timePlayed.push(new Date());\n        console.log(this.state.recordTune);\n      }\n    }\n\n  }\n  //flip record status from recording to not recording and vice versa\n  toggleRecordStatus()  {\n    this.state.recordStatus = !this.state.recordStatus;\n    if (this.state.recordStatus) {\n      document.getElementById('record-btn').innerHTML = 'Stop';\n    }\n    else{\n      document.getElementById('record-btn').innerHTML = 'Record';\n      document.getElementById('play-btn').disabled = false;\n    }\n  }\n  async wait(ms) {\n    return new Promise(resolve => {\n      setTimeout(resolve, ms);\n    });\n  }\n  async playRecord() {\n    console.log('playing');\n    for (let i = 0; i < this.state.recordTune.beatPlayed.length; i++) {\n      await this.midiSounds.playChordNow(3, this.state.recordTune.beatPlayed[i], this.state.recordTune.lengthPlayed[i]);\n      console.log(i);\n      await this.wait(this.state.recordTune.timePlayed[i+1] - this.state.recordTune.timePlayed[i]);\n    }\n  }\n\n\n  //delete the previously recorded beats to start recording again from scratch\n  resetRecord(){\n    this.setState({ recordTune: {\n      beatPlayed: [],\n      lengthPlayed: [],\n      timePlayed: []\n    }\n  });\n  }\n\n\n\n  render(){\n    //send guitar chords played\n    socket.on('receiveFromGuitar', (selectedNote) => {\n      this.midiSounds.playChordNow(258, selectedNote, 1.5);\n    });\n\n    //send drum beats played\n    socket.on('receiveFromDrums', (key) => {\n      this.midiSounds.playDrumsNow(key);\n    });\n\n    //send piano played from other user (would this work? -> yes it will :)\n    socket.on('receiveFromPiano', (sound) => {\n      this.midiSounds.playChordNow(3, sound.note, sound.length);\n    });\n\n\n    /*formatting stuff mostly. Buttons call piano functions when clicked. The midi sounds logo gives volume options etc*/\n    return (\n        <div className=\"App\">\n          <header id = 'main-header'>\n            <div className=\"container\">\n              <h1 contentEditable>Travel Ban<span style={{color: '#9a0415'}}>d</span></h1>\n            </div>\n          </header>\n          <nav id=\"navbar\">\n            <div className=\"container\">\n              <ul>\n                <li><a onClick={home}>Home</a></li>\n                <li><a id=\"record-btn\" onClick={this.toggleRecordStatus.bind(this)}>Record</a></li>\n                <li><a id=\"play-btn\" onClick={this.playRecord.bind(this)}>Play</a></li>\n                <li><a onClick={this.resetRecord.bind(this)}>Reset</a></li>\n              </ul>\n            </div>\n          </nav>\n          <body>\n          <p className=\"App-intro\">Press buttons to play piano chords.</p>\n          <h1 className=\"Instructions\">Play keyboard like a piano: d = middle C.</h1>\n          <p>\n            <KeyboardEventHandler\n                handleKeys={['all']}\n                onKeyEvent={(key) =>\n                    this.changeColor(key)\n                } />\n            <KeyboardEventHandler\n                handleKeys={['all']}\n                onKeyEvent={(key, e) =>\n                    this.playPiano4(key, e)} />\n          </p>\n          <p>\n            <div className = 'piano-visual'>\n              <div className={this.colorOn === 'a' ? 'blue-key' : \"white-key\"} style={{left: 50}}>\n                <h3>A</h3>\n                <h4>a</h4>\n              </div>\n              <div className={this.colorOn === 's'? \"blue-key\" : \"white-key\"} style={{left:100}}>\n                <h3>B</h3>\n                <h4>s</h4>\n              </div>\n              <div className={this.colorOn === 'd' ? 'blue-key' : \"white-key\"} style={{left:150}}>\n                <h3>C</h3>\n                <h4>d</h4>\n              </div>\n              <div className={this.colorOn === 'f' ? 'blue-key' : \"white-key\"} style={{left:200}}>\n                <h3>D</h3>\n                <h4>f</h4>\n              </div>\n              <div className={this.colorOn === 'g' ? 'blue-key' : \"white-key\"} style={{left:250}}>\n                <h3>E</h3>\n                <h4>g</h4>\n              </div>\n              <div className={this.colorOn === 'h' ? 'blue-key' : \"white-key\"} style={{left:300}}>\n                <h3>F</h3>\n                <h4>h</h4>\n              </div>\n              <div className={this.colorOn === 'j' ? 'blue-key' : \"white-key\"} style={{left:350}}>\n                <h3>G</h3>\n                <h4>j</h4>\n              </div>\n              <div className={this.colorOn === 'k' ? 'blue-key' : \"white-key\"} style={{left:400}}>\n                <h3>A</h3>\n                <h4>k</h4>\n              </div>\n              <div className={this.colorOn === 'l' ? 'blue-key' : \"white-key\"} style={{left:450}}>\n                <h3>B</h3>\n                <h4>l</h4>\n              </div>\n              <div className={this.colorOn === ';' ? 'blue-key' : \"white-key\"} style={{left:500}}>\n                <h3>C</h3>\n                <h4>;</h4>\n              </div>\n              <div className={this.colorOn === 'w' ? 'black-blue-key' : \"black-key\"} style={{left: 85}}>\n                <h4>A#</h4>\n                <h5>w</h5>\n              </div>\n              <div className={this.colorOn === 'r' ? 'black-blue-key' : \"black-key\"} style={{left: 185}}>\n                <h4>C#</h4>\n                <h5>r</h5>\n              </div>\n              <div className={this.colorOn === 't' ? 'black-blue-key' : \"black-key\"} style={{left: 235}}>\n                <h4>D#</h4>\n                <h5>t</h5>\n              </div>\n              <div className={this.colorOn === 'u' ? 'black-blue-key' : \"black-key\"} style={{left: 335}}>\n                <h4>F#</h4>\n                <h5>u</h5>\n              </div>\n              <div className={this.colorOn === 'i' ? 'black-blue-key' : \"black-key\"} style={{left: 385}}>\n                <h4>G#</h4>\n                <h5>i</h5>\n              </div>\n              <div className={this.colorOn === 'o' ? 'black-blue-key' : \"black-key\"} style={{left: 435}}>\n                <h4>A#</h4>\n                <h5>o</h5>\n              </div>\n            </div>\n          </p>\n\n          <p><h3>Press shift to change octave</h3></p>\n          <p>Current Octave: {this.shiftKey === 0 ? \"Medium\" : (this.shiftKey === 1 ? \"High\" : \"Low\")}</p>\n          <p><h3>Hit Space to change length of the note.</h3></p>\n          <p>Current note length: {this.playtime === 0.5 ? \"Short\" : (this.playtime === 1 ? \"Medium\" : (this.playtime === 1.5 ? \"Long\" : \"Longest\"))}</p>\n          <p><h3>Press m for chords.</h3></p>\n          <p>Current chord setting: {this.chords === 0 ? \"Off\" : (this.chords === 1 ? \"Major\" : \"Minor\")}</p>\n          <p><h3>Hit Refresh to change instrument</h3></p>\n\n          <MIDISounds\n              ref={ref => (this.midiSounds = ref)}\n              appElementName=\"root\"\n              instruments={[3, 258]}\n          />\n          </body>\n        </div>\n    );\n  }\n}\n\nexport default Piano;\n"]},"metadata":{},"sourceType":"module"}